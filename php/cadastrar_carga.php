<?php require 'config.php'; if ($_SERVER['REQUEST_METHOD'] !== 'POST') { header('Location: ../cadastro_carga.html'); exit; } $origem = $_POST['origem']; $destino = $_POST['destino']; $peso = !empty($_POST['peso'])?floatval($_POST['peso']):null; $dim = $_POST['dimensoes']; $data_envio = !empty($_POST['data_envio'])?$_POST['data_envio']:null; $data_entrega = !empty($_POST['data_entrega'])?$_POST['data_entrega']:null; $id_cliente = intval($_POST['id_cliente']); $id_motorista = !empty($_POST['id_motorista'])?intval($_POST['id_motorista']):null; $pdo->prepare('INSERT INTO carga (origem,destino,peso,dimensoes,status,data_envio,data_entrega,id_cliente,id_motorista) VALUES (?,?,?,?,"pendente",?,?,?,?)')->execute([$origem,$destino,$peso,$dim,$data_envio,$data_entrega,$id_cliente,$id_motorista]); echo 'Carga cadastrada. <a href="../dashboard.html">Voltar</a>'; ?>